#/run/current-system/sw/bin/bash
#
# export NIXREPOS=/home/joachim/Desktop/projects/nixos/
# export PATH=/home/joachim/Desktop/projects/nix-ray:$PATH
# export PATH=/nix/var/nix/profiles/zidanca/bin:$PATH
# nix-shell $NIXREPOS/nixpkgs  -A bc
#
export NIXRAYSTATUS=init

while getopts ":c:l:" opt; do
  case $opt in
    l)
      echo "-l was triggered!" >&2
      echo $OPTARG
      ;;
    c)
      echo "-c was triggered!" >&2
      mkdir -p /tmp/nix-ray/$OPTARG
      nix-shell $NIXREPOS/nixpkgs  -A $OPTARG
      export PS1="[ \$name \[\e[34;1m\] \$NIXRAYSTATUS  \[\e[0m\]  \w ]\$ "
      ;;
    \?)
      echo "Invalid option: -$OPTARG" >&2
      ;;
  esac
done

